[
  {
    "bindings": {
      "ctrl-shift-e": "project_panel::ToggleFocus",
      "ctrl-b": "workspace::CloseAllDocks"
    }
  },
  {
    "context": "Workspace",
    "bindings": {
      "alt-d": [
        "task::Spawn",
        { "task_name": "lazydocker", "reveal_target": "center" }
      ],
      "alt-e": [
        "task::Spawn",
        { "task_name": "yazi"}
      ],
      "alt-g": [
        "task::Spawn",
        { "task_name": "lazygit", "reveal_target": "center" }
      ],
      "ctrl-shift-g": "git_panel::ToggleFocus"
    }
  },
  {
    "context": "showing_code_actions",
    "bindings": {
      "ctrl-l": "editor::ConfirmCodeAction"
    }
  },
  {
    "context": "showing_completions",
    "bindings": {
      "ctrl-l": "editor::ConfirmCompletion"
    }
  },
  {
    "context": "VimControl && !menu",
    "bindings": {
      "space f d": "editor::Format",
      "g q": "editor::ToggleCodeActions"
    }
  },
  {
    "context": "Editor && VimControl && !VimWaiting && !menu",
    "bindings": {
      "space w": "workspace::Save",
      "space q": "pane::CloseActiveItem",
      ///////////////// git ////////////////
      "space g b": "editor::ToggleGitBlame",
      "space g c": "editor::ToggleSelectedDiffHunks",
      "space g C": "editor::ExpandAllDiffHunks",
      "space g r": "git::Restore",
      "space g R": "git::RestoreFile",
      "space g s": "git::ToggleStaged",
      "space g S": "git::StageFile",
      "space g f h": [
        "task::Spawn", {"task_name": "git_file_hist", "reveal_target": "center" }
      ],
      "space g l i": [
        "task::Spawn", {"task_name": "gli", "reveal_target": "center" }
      ]
    }
  },
  {
    "context": "VimControl && VimCount",
    "bindings": {
      "0": ["vim::Number", 0],
      ":": "vim::CountCommand"
    }
  },
  {
    "context": "vim_mode == visual",
    "bindings": {
      "space g r": "git::Restore",
      "space f d": "editor::FormatSelections"
    }
  },
  {
    "context": "vim_mode == insert",
    "bindings": {
      // "j k": ["workspace::SendKeystrokes", "escape"]
    }
  },
  {
    "context": "vim_mode == insert && !(showing_code_actions || showing_completions)",
    "bindings": {}
  },
  {
    "context": "vim_mode == replace",
    "bindings": {}
  },
  {
    "context": "vim_mode == waiting",
    "bindings": {}
  },
  {
    // netrw compatibility
    "context": "ProjectPanel && not_editing",
    "bindings": {
      "a": "project_panel::NewFile",
      "f": "project_panel::NewFile",
      "ctrl-w": null,
      "ctrl-w left": "workspace::ActivatePaneLeft",
      "ctrl-w right": "workspace::ActivatePaneRight",
      "ctrl-w up": "workspace::ActivatePaneUp",
      "ctrl-w down": "workspace::ActivatePaneDown",
      "ctrl-w h": "workspace::ActivatePaneLeft",
      "ctrl-w l": "workspace::ActivatePaneRight",
      "ctrl-w k": "workspace::ActivatePaneUp",
      "ctrl-w j": "workspace::ActivatePaneDown"
    }
  },
  {
    "context": "OutlinePanel && not_editing",
    "bindings": {
      "j": "menu::SelectNext",
      "k": "menu::SelectPrevious",
      "shift-g": "menu::SelectLast",
      "g g": "menu::SelectFirst"
    }
  },
  {
    "context": "Terminal",
    "bindings": {
      // "ctrl-w": ["terminal::SendKeystroke", "ctrl-w"],
      "ctrl-w left": "workspace::ActivatePaneLeft",
      "ctrl-w right": "workspace::ActivatePaneRight",
      "ctrl-w up": "workspace::ActivatePaneUp",
      "ctrl-w down": "workspace::ActivatePaneDown",
      "ctrl-w h": "workspace::ActivatePaneLeft",
      "ctrl-w l": "workspace::ActivatePaneRight",
      "ctrl-w k": "workspace::ActivatePaneUp",
      "ctrl-w j": "workspace::ActivatePaneDown"
    }
  },
  {
    "context": "vim_operator == a || vim_operator == i || vim_operator == cs",
    "bindings": {
      "w": "vim::Word",
      "shift-w": ["vim::Word", { "ignore_punctuation": true }],
      "t": "vim::Tag",
      "s": "vim::Sentence",
      "p": "vim::Paragraph",
      "'": "vim::Quotes",
      "`": "vim::BackQuotes",
      "\"": "vim::DoubleQuotes",
      "|": "vim::VerticalBars",
      "(": "vim::Parentheses",
      ")": "vim::Parentheses",
      "b": "vim::Parentheses",
      "[": "vim::SquareBrackets",
      "]": "vim::SquareBrackets",
      "r": "vim::SquareBrackets",
      "{": "vim::CurlyBrackets",
      "}": "vim::CurlyBrackets",
      "shift-b": "vim::CurlyBrackets",
      "<": "vim::AngleBrackets",
      ">": "vim::AngleBrackets",
      "a": "vim::Argument"
    }
  }
]
