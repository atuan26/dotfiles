[
  {
    "bindings": {
      "ctrl-shift-g": [
        "workspace::SendKeystrokes",
        ": w n c t e enter ctrl-wait ctrl-u i l a z y g i t enter"
      ],
      "ctrl-b": "workspace::CloseAllDocks"
    }
  },
  {
    "context": "showing_code_actions",
    "bindings": {
      "ctrl-l": "editor::ConfirmCodeAction"
    }
  },
  {
    "context": "showing_completions",
    "bindings": {
      "ctrl-l": "editor::ConfirmCompletion"
    }
  },
  {
    "context": "VimControl && !menu",
    "bindings": {
      "space f d": "editor::Format",
      "g q": "editor::ToggleCodeActions"
    }
  },
  {
    "context": "vim_mode == normal",
    "bindings": {
      "space g b": "editor::ToggleGitBlame",
      "space g c": "editor::ToggleHunkDiff",
      "space g C": "editor::ExpandAllHunkDiffs",
      "space g r": "editor::RevertSelectedHunks",
      "space w": "workspace::Save",
      "space q": "pane::CloseActiveItem"
    }
  },
  {
    "context": "VimControl && VimCount",
    "bindings": {
      "0": ["vim::Number", 0],
      ":": "vim::CountCommand"
    }
  },
  {
    "context": "vim_mode == visual",
    "bindings": {
      "space g r": "editor::RevertSelectedHunks",
      "space f d": "editor::FormatSelections",
      "shift-tab": "editor::TabPrev"
    }
  },
  {
    "context": "vim_mode == insert",
    "bindings": {
      // "j k": ["workspace::SendKeystrokes", "escape"]
    }
  },
  {
    "context": "vim_mode == insert && !(showing_code_actions || showing_completions)",
    "bindings": {}
  },
  {
    "context": "vim_mode == replace",
    "bindings": {}
  },
  {
    "context": "vim_mode == waiting",
    "bindings": {}
  },
  {
    // netrw compatibility
    "context": "ProjectPanel && not_editing",
    "bindings": {
      "a": "project_panel::NewFile",
      "f": "project_panel::NewFile",
      "ctrl-w": null,
      "ctrl-w left": ["workspace::ActivatePaneInDirection", "Left"],
      "ctrl-w right": ["workspace::ActivatePaneInDirection", "Right"],
      "ctrl-w up": ["workspace::ActivatePaneInDirection", "Up"],
      "ctrl-w down": ["workspace::ActivatePaneInDirection", "Down"],
      "ctrl-w h": ["workspace::ActivatePaneInDirection", "Left"],
      "ctrl-w l": ["workspace::ActivatePaneInDirection", "Right"],
      "ctrl-w k": ["workspace::ActivatePaneInDirection", "Up"],
      "ctrl-w j": ["workspace::ActivatePaneInDirection", "Down"]
    }
  },
  {
    "context": "OutlinePanel && not_editing",
    "bindings": {
      "j": "menu::SelectNext",
      "k": "menu::SelectPrev",
      "shift-g": "menu::SelectLast",
      "g g": "menu::SelectFirst"
    }
  },
  {
    "context": "Terminal",
    "bindings": {
      // "ctrl-w": ["terminal::SendKeystroke", "ctrl-w"],
      "ctrl-w left": ["workspace::ActivatePaneInDirection", "Left"],
      "ctrl-w right": ["workspace::ActivatePaneInDirection", "Right"],
      "ctrl-w up": ["workspace::ActivatePaneInDirection", "Up"],
      "ctrl-w down": ["workspace::ActivatePaneInDirection", "Down"],
      "ctrl-w h": ["workspace::ActivatePaneInDirection", "Left"],
      "ctrl-w l": ["workspace::ActivatePaneInDirection", "Right"],
      "ctrl-w k": ["workspace::ActivatePaneInDirection", "Up"],
      "ctrl-w j": ["workspace::ActivatePaneInDirection", "Down"]
    }
  },
  {
    "context": "vim_operator == a || vim_operator == i || vim_operator == cs",
    "bindings": {
      "w": "vim::Word",
      "shift-w": ["vim::Word", { "ignorePunctuation": true }],
      "t": "vim::Tag",
      "s": "vim::Sentence",
      "p": "vim::Paragraph",
      "'": "vim::Quotes",
      "`": "vim::BackQuotes",
      "\"": "vim::DoubleQuotes",
      "|": "vim::VerticalBars",
      "(": "vim::Parentheses",
      ")": "vim::Parentheses",
      "b": "vim::Parentheses",
      "[": "vim::SquareBrackets",
      "]": "vim::SquareBrackets",
      "r": "vim::SquareBrackets",
      "{": "vim::CurlyBrackets",
      "}": "vim::CurlyBrackets",
      "shift-b": "vim::CurlyBrackets",
      "<": "vim::AngleBrackets",
      ">": "vim::AngleBrackets",
      "a": "vim::Argument"
    }
  }
]
